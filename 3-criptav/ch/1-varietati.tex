% ! TEX root = ../curbe.tex

\chapter{Preliminarii}

\section{Varietăți algebrice}

Începem prezentarea cu cîteva preliminarii privitoare la varietăți algebrice
și alte noțiuni elementare de algebră comutativă.

Vom folosi următoarele notații și obiecte:
\begin{itemize}
\item $ K $ este un corp perfect, i.e.\ unul pentru care orice extindere algebrică
  este separabilă;
\item $ \overline{K} $ este o închidere algebrică fixată a lui $ K $;
\item $ \dr{Gal}(\overline{K}/K) = G_{\overline{K}/K} $ este grupul Galois
  al extinderii $ K \seq \overline{K} $.
\end{itemize}

În majoritatea exemplelor, $ K $ va fi (o extindere algebrică a lui) $ \QQ $,
$ \QQ $ sau $ \mathbb{F}_p $.

\begin{definition}\label{def:spatiu-afin}
  \index{spațiu!afin}
  \index{spațiul!punctelor raționale}
  \emph{Spațiul afin} peste corpul $ K $ este mulțimea de $ n $-tupluri:
  \[
    \mathbb{A}^n = \mathbb{A}^n(K) = \{ P = (x_1, \dots, x_n) \in \overline{K}^n \}.
  \]
  Similar, se definește \emph{spațiul punctelor $ K $-raționale} din $ \mathbb{A}^n $,
  care conține restricția $ P \in K^n $.
\end{definition}

Fie $ \overline{K}[X] = \overline{K}[X_1, \dots, X_n] $ un inel de polinoame în $ n $
nedeterminate și fie $ I \ideal \overline{K}[X] $ un ideal. Putem asocia fiecărui
astfel de ideal o submulțime a lui $ \AF^n $:
\[
  V_I = \{ P \in \AF^n \mid f(P) = 0, \quad \forall f \in I \}.
\]

\begin{definition}\label{def:multime-algebrica-afina}
  \index{mulțime!algebrică afină}
  O \emph{mulțime algebrică afină} este o mulțime de forma $ V_I $ ca mai sus.

  Dacă $ V $ este o astfel de mulțime, \emph{idealul} lui $ V $ este:
  \[
    I(V) = \{ f \in \overline{K}[X] \mid f(P) = 0, \quad \forall P \in V \}.
  \]
\end{definition}

Spunem că o mulțime algebrică este \emph{definită} peste $ K $ dacă idealul său
$ I(V) $ poate fi generat de polinoame din $ K[X] $ și notăm aceasta cu $ V/K $.
\index{mulțime!algebrică definită}

Dacă $ V $ este definită peste $ K $, \emph{mulțimea punctelor $ K $-raționale} ale
lui $ V $ este mulțimea:
\[
  V(K) = V \cap \AF^n(K).
\]

\begin{remark}\label{rk:kx-finit-gen}
  Conform teoremei bazei a lui Hilbert, idealele lui $ \overline{K}[X] $ și
  $ K[X] $ sînt finit generate.
\end{remark}

Fie $ V $ o mulțime algebrică și considerăm idealul:
\[
  I(V/K) = \{ f \in K[X] \mid f(P) = 0, \quad \forall P \in V \} = I(V) \cap K[X].
\]

Se poate observa că $ V $ este definită peste $ K $ dacă și numai dacă are loc
relația:
\[
  I(V) = I(V/K) \cdot \overline{K}[X].
\]

Presupunem acum că $ V $ este definită peste $ K $ și fie $ f_1, \dots, f_m \in K[X] $,
generatori ai idealului $ I(V/K) $. Rezultă că $ V(K) $ este mulțimea soluțiilor
$ x = (x_1, \dots, x_n) $ pentru ecuațiile polinomiale:
\[
  f_1(x) = \dots = f_m(x) = 0, \quad x_1, \dots, x_n \in K.
\]

\begin{example}\label{exm:multime-alg1}
  Fie $ V $ mulțimea algebrică din $ \AF^2 $ dată de ecuația $ X^2 - Y^2 = 1 $.

  Atunci $ V $ este definită peste orice corp $ K $.

  Presupunem acum $ \dr{char}K \neq 2 $. Rezultă $ V(K) \simeq \AF^1(K) - \{ 0 \} $,
  o bijecție fiind, de exemplu:
  \begin{align*}
    \AF^1(K) - \{ 0 \} &\to V(K) \\
    t &\mapsto \left( \dfrac{t^2 + 1}{2t}, \dfrac{t^2 - 1}{2t} \right).
  \end{align*}
\end{example}

\begin{example}\label{exm:multime-alg2}
  Mulțimea algebrică $ V : X^n + Y^n = 1 $ este definită peste $ \QQ $ și,
  folosind Marea Teoremă a lui Fermat, pentru orice $ n \geq 3 $, are loc:
  \[
    V(\QQ) = %
    \begin{cases}
      \{(1, 0), (0, 1) \}, & n \text{ impar} \\
      \{(\pm 1, 0), (0, \pm 1)\}, & n \text{ par}
    \end{cases}.
  \]
\end{example}

\begin{example}\label{exm:multime-alg3}
  Mulțimea algebrică $ V: X^2 = Y^3 + 17 $ are multe puncte $ \QQ $-raționale.
  De fapt, se poate arăta că $ V(\QQ) $ este infinită. Cîteva exemple sînt:
  \[
    V(\QQ) = \{ (3, -2), (378661, 5234), \left( \dfrac{2651}{512}, \dfrac{137}{64} \right) \}.
  \]
\end{example}

\begin{definition}\label{def:varietate-afina}
  \index{varietate!afină}
  O mulțime algebrică (afină) se numește \emph{varietate algebrică (afină)} dacă $ I(V) $ este
  un ideal prim al lui $ \overline{K}[X] $.
\end{definition}

Remarcăm că dacă $ V $ este definită peste $ K $, atunci este suficient să verificăm dacă
$ I(V/K) $ este ideal prim al lui $ K[X] $.

Fie $ V/K $ o varietate, adică $ V $ este varietate definită peste $ K $. Atunci
\emph{inelul coordonatelor afine} al $ V/K $ este:
\[
  K[V] = \dfrac{K[X]}{I(V/K)}.
\]

De asemenea, deoarece $ I(V/K) $ este ideal prim, rezultă că $ K[V] $ este
domeniu de integritate. Corpul său de fracții se notează $ K(V) $ și se numește
\emph{corpul de funcții} al lui $ V/K $.

Similar putem formula înlocuind $ K $ cu $ \overline{K} $.

În plus, orice element al $ \overline{K}[V] $ se definește pînă la un element din
$ I(V/\overline{K}) $, deci pînă la un polinom ce se anulează pe $ V $. Rezultă
că $ f \in \overline{K}[V] $ induce o funcție $ f : V \to \overline{K} $.

\begin{definition}\label{def:varietate-alg-dim}\index{varietate!afină!dimensiune}
  Fie $ V $ o varietate algebrică.

  \emph{Dimensiunea} varietății, notată $ \dim V $, este gradul de transcendență
  al extinderii $ \overline{K}(V) $ peste $ \overline{K} $.
\end{definition}

\begin{example}\label{exm:dim}
  $ \dim\AF^n = n $, deoarece $ \overline{K}(\AF^n) = \overline{K}(X_1, \dots, X_n) $.

  Dacă $ V \seq \AF^n $ este dat de o ecuație polinomială neconstantă $ f(X_1, \dots, X_n) = 0 $,
  atunci $ \dim V = n - 1 $.
\end{example}

Vom fi interesați de proprietatea de \emph{netezime}, care se definește prin analogul condiției
de existență a planului tangent:

\begin{definition}\label{def:neted}
  \index{varietate!netedă}
  Fie $ V $ o varietate algebrică, $ P \in V, f_1, \dots, f_m \in \overline{K}[X] $ o mulțime
  de generatori pentru $ I(V) $.

  $ V $ se numește \emph{nesingulară (netedă)} în $ P $ dacă matricea jacobiană
  $ \left( \dfrac{\partial f_i}{\partial X_j}(P) \right) $ are rangul $ n - \dim V $.
\end{definition}

\begin{example}\label{exm:dim}
  Fie $ V $ dată de o ecuație polinomială neconstantă $ f(x_1, \dots, x_n) = 0 $.

  Atunci $ \dim V $ = $ n - 1 $, deci $ P $ este singularitate dacă și numai dacă
  $ \dfrac{\partial f}{\partial x_i}(P) = 0, \forall 1 \leq i \leq n $. Totodată,
  $ f(P) = 0 $, deci în total obținem $ n + 1 $ condiții pe $ n $ nedeterminate.
\end{example}

\begin{example}\label{exm:dim2}
  Fie două varietăți:
  \[
    V_1: Y^2 = X^3 + X \quad \text{și} \quad V_2: Y^2 = X^3 + X^2.
  \]

  Punctele lor singulare trebuie să satisfacă:
  \[
    V_1^{\text{sing}}: 3X^2 + 1 = 2Y = 0 \quad \text{și} \quad %
    V_2^{\text{sing}}: 3X^2 + 2X = 2Y = 0.
  \]

  Rezultă că $ V_1 $ nu are singularități, dar $ V_2 $ are, originea $ (0, 0) $.
\end{example}

Putem formula și o altă caracterizare a netezimii, prin funcții definite pe varietate.
Fie $ P $ un punct arbitrar din $ V $. Definim idealul $ M_P \ideal \overline{K}[V] $ prin:
\[
  M_P = \{ f \in \overline{K}[V] \mid f(P) = 0 \}.
\]
Se poate observa că $ M_P $ este maximal, deoarece avem izomorfismul:
\begin{align*}
  \overline{K}[V]/M_P &\to \overline{K} \\
  f &\mapsto f(P).
\end{align*}

Rezultă că grupul factor $ M_P/M_P^2 $ este un $ \overline{K} $-spațiu vectorial
finit dimensional.

Are loc:
\begin{proposition}\label{pr:var-alg}
  Fie $ V $ o varietate algebrică.

  Punctul $ P \in V $ este nesingular dacă și numai dacă $ \dim_{\overline{K}} M_P/M_P^2 = \dim V $.
\end{proposition}

\begin{example}\label{exm:nesing}
  Reluăm cazul anterior al varietăților $ V_1 $ și $ V_2 $ (exemplul \ref{exm:dim2}) și
  fie $ P = (0, 0) $.

  În ambele cazuri, $ M_P $ este generat de $ X $ și $ Y $, deci $ M_P^2 $ este generat de
  $ X^2, XY $ și $ Y^2 $.

  Pentru $ V_1 $ avem:
  \[
    X = Y^2 - X^3 \equiv 0 \text{ mod } M_P^2,
  \]
  deci $ M_P^2 $ este generat doar de $ Y $.

  Dar pentru $ V_2 $ nu avem nicio relație netrivială între $ X $ și $ Y $ modulo $ M_P^2 $, deci
  ambele nedeterminate sînt necesare ca generatori.

  Rezultă că $ V_1 $ e netedă, dar $ V_2 $ nu este, deoarece $ \dim V_{1,2} = 1 $.
\end{example}

Folosind idealul maximal, avem:
\begin{definition}\label{def:inel-local}
  \emph{Inelul local} al varietății $ V $ în $ P $, notat $ \overline{K}[V]_P $, este localizatul
  în $ M_P $, adică:
  \[
    \overline{K}[V]_P = \{ F \in \overline{K}(V) \mid F = f/g, \quad f,g \in \overline{K}[V], g(P) \neq 0 \}.
  \]
\end{definition}

Remarcăm că din $ F = f/g $ rezultă că $ F(P) = f(P)/g(P) $ este corect definită.

Funcțiile din $ \overline{K}[V]_P $ se numesc \emph{regulate} (sau \emph{definite}) în $ P $.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Varietăți proiective}

Definim varietățile proiective ca fiind colecția de linii ce trec prin originea
unui spațiu afin de dimensiune imediat superioară.

\begin{definition}\label{def:spatiu-proiectiv}
  \index{spațiu!proiectiv}
  \emph{Spațiul $ n $-proiectiv} peste $ K $, notat $ \PP^n $ sau $ \PP^n(\overline{K}) $,
  este mulțimea tuturor $ (n + 1) $-tuplurilor $ (x_0, \dots, x_n) \in \AF^{n + 1} $,
  astfel încît cel puțin o coordonată $ x_i $ este nenulă modulo echivalența:
  \[
    (x_0, \dots, x_n) \sim (y_0, \dots, y_n) \Leftrightarrow \exists \lambda %
    \in \overline{K}^\times \text{ a.\^{i}. } x_i = \lambda y_i, \forall i.
  \]

  Clasa de echivalență
  $ \{(\lambda x_0, \dots, \lambda x_n) \mid \lambda \in \overline{K}^\times \} $
  se notează $ [x_0, \dots, x_n] $, iar $ x_0, \dots, x_n $ se numesc \emph{coordonatele %
  omogene} ale punctului respectiv în $ \PP^n $.
\end{definition}

De asemenea, mulțimea punctelor $ K $-raționale din $ \PP^n $ este:
\[
  \PP^n(K) = \{ [x_0, \dots, x_n] \in \PP^n \mid x_i \in K \}.
\]

\begin{remark}\label{rk:proj}
  Pentru $ P = [x_0, \dots, x_n] \in \PP^n(K) $, \emph{nu} rezultă că fiecare $ x_i \in K $.
  În schimb, alegem un $ i $ cu $ x_i \neq 0 $ și rezultă că $ x_j / x_i \in K $, pentru
  orice $ j $.
\end{remark}

\begin{definition}\label{def:corp-minimal}
  \index{corp!minimal}
  Fie $ P = [ x_0, \dots, x_n ] \in \PP^n(\overline{K}) $. \emph{Corpul minimal de definiție}
  pentru $ P $ peste $ K $ este corpul:
  \[
    K(P) = K(x_0/x_i, \dots, x_n/x_i), \quad \forall i, \text{ cu } x_i \neq 0.
  \]
\end{definition}

\begin{definition}\label{def:polinom-omogen}
  \index{polinom!omogen}
  Un polinom $ f \in \overline{K}[X] $ se numește \emph{omogen de grad $ d $} dacă:
  \[
    f(\lambda x_0, \dots, \lambda x_n) = \lambda^d f(x_0, \dots, x_n), %
    \quad \forall \lambda \in \overline{K}.
  \]

  Un \emph{ideal omogen} al lui $ \overline{K}[X] $ este generat de polinoame omogene.
\end{definition}

Fiecărui ideal omogen îi putem asocia o submulțime a $ \PP^n $:
\[
  V_I = \{ P \in \PP^n \mid f(P) = 0, \text{ pentru orice } f \in I \text{ omogen } \}.
\]

\begin{definition}\label{def:multime-proiectiva}
  \index{mulțime!proiectivă}
  O \emph{mulțime (algebrică) proiectivă} este una de forma $ V_I $ ca mai sus.

  Idealul omogen al unei mulțimi proiective, notat $ I(V) $, este idealul lui
  $ \overline{K}[X] $ generat de:
  \[
    \{ f \in \overline{K}[X] \mid f \text{ omogen }, f(P) = 0, \forall P \in V \}.
  \]
\end{definition}

Similar putem descrie și $ V/K $ și $ V(K) = V \cap \PP^n(K) $.

\begin{example}\label{exm:dreapta-proj}
  O \emph{dreaptă} în $ \PP^2 $ este o mulțime algebrică dată de
  $ aX + bY + cZ = 0 $, cu $ a, b, c \in \overline{K} $, nu toate nule.

  Dacă, de exemplu, $ c \neq 0 $, atunci dreapta este definită peste orice corp
  care conține $ a/c $ și $ b/c $.

  În general, un \emph{hiperplan} în $ \PP^n $ este dat de o ecuație:
  \[
    a_0 X_0 + a_1 X_1 + \dots + a_n X_n = 0, %
    \quad a_i \in \overline{K}, \text{ nu toate nule}.
  \]
\end{example}

\begin{example}\label{exm:var-proj}
  Fie $ V $ în $ \PP^2 $ dată de $ X^2 + Y^2 = Z^2 $.

  Atunci, pentru orice corp $ K $, cu $ \dr{char}K \neq 2 $, avem $ V(K) \simeq \PP^1(K) $,
  de exemplu prin:
  \begin{align*}
    \PP^1(K) &\to V(K) \\
    [s, t] &\mapsto [s^2 - t^2, 2st, s^2 + t^2].
  \end{align*}
\end{example}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Aplicație aritmetică}

Fie un punct din $ \PP^n(\QQ) $, de coordonate $ [x_0, \dots, x_n], x_i \in \QQ $.

Putem presupune că am înmulțit cu numitorul comun și am eliminat factorii comuni,
deci putem presupune $ x_i \in \ZZ, \dr{gcd}(x_i) = 1 $. Rezultă că punctul
$ P $ determină coordonatele omogene $ x_i $, \emph{pînă la un semn}.

În general, dacă un ideal al unei mulțimi algebrice definite peste $ \QQ $,
$ V / \QQ $, este generat de polinoame omogene $ f_1, \dots, f_m \in \QQ[X] $,
descrierea $ V(\QQ) $ revine la a rezolva ecuațiile omogene:
\[
  f_1(x_0, \dots, x_n) = \dots = f_m(x_0, \dots, x_n) = 0, \quad \dr{gcd}(x_i) = 1.
\]

\begin{example}\label{exm:proj-aritm}
  Fie $ V : X^2 + Y^2 = 3Z^2 $, definit peste $ \QQ $, dar $ V(\QQ) = \emptyset $.
  Într-adevăr, presupunem că $ [x, y, z] \in V(\QQ) $, cu $ x, y, z \in \ZZ $ și
  $ \dr{gcd}(x, y, z) = 1 $. Rezultă $ x^2 + y^2 \equiv 0 \text{ mod } 3 $,
  dar cum $ -1 $ nu este pătrat modulo 3, rezultă că $ x \equiv y \equiv 0 $
  modulo 3, deci $ x^2, y^2 \vdots 3^2 $, adică $ 3 \mid z $, contradicție
  cu $ \dr{gcd}(x, y, z) = 1 $.
\end{example}

Așadar, ideea generală este că, pentru a arăta că $ V(\QQ) = \emptyset $, este
suficient să arătăm că ecuațiile omogene corespunzătoare nu au soluții nenule
\emph{modulo $ p $}, pentru orice prim $ p $ (sau pentru orice putere a unui prim).

Spus mai simplu, avem implicația $ V(\QQ) = \emptyset \Rightarrow V(\QQ_p) = \emptyset $,
pentru orice corp p-adic $ \QQ_p $. Mai departe, implicația poate continua cu $ V(\RR) = \emptyset $.

Însă \emph{reciproca este falsă!} Se poate arăta că, pentru varietatea:
\[
  V: 3X^2 + 4Y^2 + 5Z^3 = 0,
\]
avem $ V(\QQ_p) \neq \emptyset, \forall p $, dar $ V(\QQ) = \emptyset $.

\begin{definition}\label{def:var-proj}
  \index{varietate!proiectivă}
  O mulțime algebrică proiectivă se numește \emph{varietate proiectivă} dacă
  idealul omogen $ I(V) $ este prim în $ \overline{K}[X] $.
\end{definition}

Fie $ f(Y) \in \overline{K}[Y] $. Definim:
\[
  f^\ast(x_0, \dots, x_n) = x_i^d f \left(\dfrac{x_0}{x_i}, \dfrac{x_1}{x_i}, \dots, %
    \dfrac{x_{i - 1}}{x_i}, \dfrac{x_{i + 1}}{x_i}, \dots, \dfrac{x_n}{x_i} \right),
\]
unde $ d = \dr{deg}f $ este cel mai mic întreg care face $ f^\ast $ polinom.

Spunem că $ f^\ast $ este \emph{omogenizatul} lui $ f $ în raport cu $ x_i $.
\index{polinom!omogenizat}

\begin{definition}\label{def:inchidere-proi}
  \index{varietate!proiectivă!închidere proiectivă}
  Fie $ V \seq \AF^n $ o mulțime algebrică afină, cu idealul $ I(V) $ și
  fie $ V $ o submulțime a $ \PP^n $ prin:
  \begin{align*}
    V \seq \AF^n &\xrar{\phi_i} \PP^n \\
    \phi_i(y_1, \dots, y_n) &\mapsto [y_1, \dots, y_{i-1}, 1, y_i, \dots, y_n].
  \end{align*}

  \emph{Închiderea proiectivă} a lui $ V $, notată $ \overline{V} $, este
  mulțimea proiectivă al cărui ideal omogen $ I(\overline{V}) $ este generat
  de omogenizatele generatorilor lui $ I(V) $.

  Punctele din $ V - \overline{V} $ se numesc \emph{puncte la infinit} din $ V $.
\end{definition}

\begin{example}\label{exm:punct-infinit}
  Fie $ V $ proiectivă, definită de $ Y^2 = X^3 + 17 $.

  Rezultă că $ V $ este dată în $ \PP^2 $ de:
  \[
    \overline{Y}^2 \overline{Z} = \overline{X}^3 + 17 \overline{Z}^3, \quad %
    X = \overline{X}/\overline{Z}, Y = \overline{Y}/\overline{Z}.
  \]

  Varietatea are un singur punct la infinit, $ [0, 1, 0] $, obținut din
  $ \overline{Z} = 0 $. Rezultă:
  \[
    V(\QQ) = \{ (x, y) \in \AF^2(\QQ) \mid y^2 = x^3 + 17 \} \cup \{ [0, 1, 0] \}.
  \]
\end{example}

\begin{definition}\label{def:corp-functii}
  Fie $ V/K $ o varietate proiectivă și fie $ \AF^n \seq \PP^n $ astfel încît
  $ V \cap \AF^n \neq \emptyset $. Atunci se definește:
  \[
    \dim V = \dim (V \cap \AF^n).
  \]

  \emph{Corpul de funcții} $ K(V) $ este corpul de funcții al $ V \cap \AF^n $.
\end{definition}

\begin{remark}\label{rk:alegeri}
  Pentru alegeri diferite ale lui $ \AF^n $, obținem izomorfisme canonice între
  rezultate.
\end{remark}

Similar, \emph{netezimea} în varietăți proiective $ V $ se traduce în $ V \cap \AF^n $.

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../curbe"
%%% End:
